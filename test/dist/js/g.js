/**
 * @modified $Author$
 * @version $Rev$
 */
require.config({enable_ozma:true});define("tui/class",[],function(){function e(){return function(){if(this.initialize)this.initialize.apply(this,arguments)}}function t(t,n){var i=this;var r=e();$.extend(r,i,n);var a=Object.create(i.prototype);a.constructor=r;r.prototype=a;$.extend(r.prototype,t);r.superClass=i.prototype;return r}var n=function(n){var i=e();$.extend(i.prototype,n);i.extend=t;return i};n.extend=t;return n});define("tui/event",["tui/class"],function(e){var t=e({initialize:function(){this.__event=window.Zepto?new window.Zepto.Events:$({})}});var n=t.prototype;["bind","one"].forEach(function(e){n[e]=function(t,n){var i=this.__event;var r=function(){n.apply(i,arguments.length>0?window.Zepto?arguments:Array.prototype.slice.call(arguments,1):[])};i[e].call(i,t,r);return this}});["unbind","trigger"].forEach(function(e){n[e]=function(){var t=this.__event;return t[e].apply(t,arguments)}});n.fire=n.trigger;t.mix=function(e){return $.extend(e,new t)};return t});define("tui/drag",["tui/event"],function(e){var t=$(window);function n(){if(window.getSelection)window.getSelection().removeAllRanges();else if(document.selection)document.selection.empty();return this}var i=e.extend({initialize:function(e,r){var a=this;r=r||{};var o=r.handler||e;i.superClass.initialize.call(a);a.limit=r.limit;a.bubble=r.bubble;a.enable2=true;a.state2=false;a.hasMove2=false;a.fx=a.fy=-1;a.x2=a.y2=a.mx2=a.my2=a.cx2=a.cy2=0;a.node2="string"==$.type(e)?$(e):e;a.container2=r.container||a.node2.parent();a.fixed2="fixed"==a.node2.css("position").toLowerCase();a.handler2="string"==$.type(o)?$(o):o;function s(e){e.preventDefault()}var l=a.handler2||a.node2;function u(e){e.preventDefault();if(!a.bubble||e.target==l[0]){a.start(e);$(document).bind("selectstart",s);if(l[0].setCapture)l[0].setCapture()}}l.bind("mousedown",u);function f(e){e.preventDefault();if(a.state2){a.state2=false;var n=e.pageX-a.mx2+a.x2-a.cx2,i=e.pageY-a.my2+a.y2-a.cy2;if(a.fixed2){n-=t.scrollLeft();i-=t.scrollTop()}if(a.limit){n=Math.max(n,0);i=Math.max(i,0);n=Math.min(n,a.cWidth-a.dWidth);i=Math.min(i,a.cHeight-a.dHeight)}a.x2=a.node2.offset().left;a.y2=a.node2.offset().top;a.trigger("drag:end",[n,i,e.pageX,e.pageY,a.node2,a.container2])}$(document).unbind("selectstart",s);if(l[0].releaseCapture)l[0].releaseCapture()}$(document).bind("mouseup",f);function c(e){e.preventDefault();if(a.state2&&a.enable2){if(!a.hasMove()&&e.pageX==a.fx&&e.pageY==a.fy);else a.hasMove2=true;var i=e.pageX-a.mx2+a.x2-a.cx2,r=e.pageY-a.my2+a.y2-a.cy2;if(a.fixed2){i-=t.scrollLeft();r-=t.scrollTop()}if(a.limit){i=Math.max(i,0);r=Math.max(r,0);i=Math.min(i,a.cWidth-a.dWidth);r=Math.min(r,a.cHeight-a.dHeight)}a.node2.css({left:i,top:r});n();a.trigger("drag:move",[i,r,e.pageX,e.pageY,a.node2,a.container2])}}$(document).bind("mousemove",c);a.cancel=function(){l.unbind("mousedown",u);$(document).unbind("mouseup",f);$(document).unbind("mousemove",c)}},start:function(e){var t=this;if(t.limit){t.cWidth=t.container2.outerWidth();t.cHeight=t.container2.outerHeight();t.dWidth=t.node2.outerWidth();t.dHeight=t.node2.outerHeight()}t.fx=e.pageX;t.fy=e.pageY;while(t.container2[0]){if("BODY"==t.container2[0].nodeName||["absolute","relative"].indexOf(t.container2.css("position"))>-1)break;t.container2=t.container2.parent()}t.cx2=t.container2.offset().left;t.cy2=t.container2.offset().top;t.x2=t.node2.offset().left;t.y2=t.node2.offset().top;t.mx2=e.pageX;t.my2=e.pageY;t.state2=true;t.trigger("drag:start",[t.x2,t.y2,e.pageX,e.pageY,t.node2,t.container2]);return this},enable:function(){this.enable2=true;return this},disable:function(){this.enable2=false;return this},state:function(){return this.state2},hasMove:function(){return this.hasMove2}});return i});define("tui/template",[],function(e,t){t.ns=function(e,t,n){var i,r=n||window,a=e.split(".").reverse();while((i=a.pop())&&a.length>0){if("undefined"===typeof r[i])r[i]={};else if("object"!==typeof r[i])return false;r=r[i]}if("undefined"!==typeof t)r[i]=t;return r[i]};t.format=function(e,t){return e.replace(/<%\=(\w+)%>/g,function(e,n){return null!=t[n]?t[n]:""})};t.escapeHTML=function(e){e=e||"";var t={"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","{":"&#123;","}":"&#125;","@":"&#64;"};return e.replace(/[<>'"\{\}@]/g,function(e){return t[e]})};t.substr=function(e,t,n){if(!e||"string"!==typeof e)return"";var i=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/([^\x00-\xff])\s/g,"$1");return n?n.call(i,i):e.length>i.length?i+"...":i};t.strsize=function(e){return e.replace(/([^\x00-\xff]|[A-Z])/g,"$1 ").length};var n=this.document;t.tplSettings={_cache:{},evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};t.tplHelpers={mix:$.extend,escapeHTML:t.escapeHTML,substr:t.substr,include:i,_has:function(e){return function(n){return t.ns(n,void 0,e)}}};function i(e,r,a){var o,s=t.tplSettings,l=a?"#"+a:"";if(!/[\t\r\n% ]/.test(e)){o=s._cache[e+l];if(!o){var u=n.getElementById(e);if(u)o=s._cache[e+l]=i(u.innerHTML,false,a)}}else o=new Function(a||"obj","api","var __p=[];"+(a?"":"with(obj){")+"var mix=api.mix,escapeHTML=api.escapeHTML,substr=api.substr,include=api.include,has=api._has("+(a||"obj")+");"+"__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(s.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(s.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');"+(a?"":"}")+"return __p.join('');");return!o?"":r?o(r,t.tplHelpers):o}t.convertTpl=i;t.reloadTpl=function(e){delete t.tplSettings._cache[e]}});define("tui/widget",["tui/event","tui/template"],function(e,t){function n(e,t){var n;var i;var r=e.split(" ");if(1==r.length){n=t;i=e}else{n=r.shift();i=r.join(" ")}return[n,i]}var i=e.extend({element:null,template:"<div></div>",eventType:"click",model:{},events:{},targetNode:$(document.body),renderMethod:"append",initialize:function(e){var t=this;i.superClass.initialize.call(t);$.each(["element","targetNode"],function(){e[this]&&(t[this]=$(e[this]))});$.each(["template","eventType","renderMethod"],function(){e[this]&&(t[this]=e[this])});$.each(["model","events"],function(){e[this]&&$.extend(t[this],e[this])})},find:function(e){return this.element.find(e)},delegate:function(e,t){var i=this;if("string"==$.type(e)&&$.isFunction(t)){var r={};r[e]=t;e=r}$.each(e,function(e,t){var r=function(e){if($.isFunction(t))return t.call(i,e);else return i[t](e)};var a=n(e,i.eventType);i.element.on(a[0],a[1],r)});return i},undelegate:function(e){var t=this;var i=n(e,t.eventType);t.element.off(i[0],i[1]);return t},render:function(e){var n=this;if(!n.element||!n.element[0])n.element=$(t.convertTpl(n.template,e||n.model));n.delegate(n.events);n.targetNode[n.renderMethod](n.element);return n}});return i});define("tui/mask",[],function(){var e=$('<div class="tui_mask">');var t;var n=$(window);var i=$(document);var r=$(document.body);function a(){e.css({width:Math.max(n.width(),i.width()),height:Math.max(n.height(),i.height())})}return{node:function(){return e},resize:function(){a()},show:function(i){n.bind("resize",a);e.css("z-index",i||9e4);this.resize();if(!t){r.append(e);t=true}else e.show();return this},hide:function(i){n.unbind("resize",a);if(i){e.remove();t=false}else e.hide();return this},update:function(){a()},state:function(){return e.is(":visible")}}});define("tui/browser",[],function(){var e=navigator.userAgent.toLowerCase();var t={ie6:$.browser.msie&&6==$.browser.version,html5:function(){var e=document.createElement("input");var t=document.createElement("video");return{h264:!!(t.canPlayType&&t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"")),history:!!(window.history&&window.history.pushState&&window.history.popState),placeholder:"placeholder"in e}},lang:(navigator.language||navigator.systemLanguage).toLowerCase(),iOS:(e.match(/(ipad|iphone|ipod)/)||[])[0],iOSVersion:(e.match(/os\s+([\d_]+)\s+like\s+mac\s+os/)||[0,"0_0_0"])[1].split("_"),wphone:parseFloat((e.match(/windows\sphone\sos\s([\d.]+)/)||["","0"])[1]),android:parseFloat((e.match(/android\s([\d.]+)/)||["","0"])[1])};t.isMobile=!!t.iOS||!!t.wphone||!!t.android||void 0!==window.orientation||false;t.isPad=t.isMobile&&("ipad"==t.iOS||e.indexOf("mobile")==-1)||false;return t});define("tui/dialog",["tui/browser","tui/template","tui/mask","tui/widget","tui/drag"],function(e,t,n,i,r){var a=$(window);var o=e.ie6||!$.support.boxModel;var s=10001;var l='<div class="tui_dialog_button"><% for (var i = 0; i < data.buttons.length; i++) { %>'+'<a data-role="button_<%=i%>" href="#"><%=data.buttons[i].name%></a>'+"<% } %></div>";var u='<div class="tui_dialog <%=data.className%>"><div<% if (data.msie) { %> class="tui_dialog_wrap"<% } %>><div class="tui_dialog_holder" data-role="holder">'+'<div class="tui_dialog_resize"></div>'+'<div class="tui_dialog_w_tp"></div><div class="tui_dialog_w_bm"></div>'+'<div class="tui_dialog_w_lf"></div><div class="tui_dialog_w_rt"></div>'+'<div class="tui_dialog_w_tl"></div><div class="tui_dialog_w_tr"></div>'+'<div class="tui_dialog_w_bl"></div><div class="tui_dialog_w_br"></div>'+'<div class="tui_dialog_header" data-role="header"><span class="tui_dialog_close" data-role="close" title="关闭">关闭</span>'+'<div class="tui_dialog_title" data-role="title"><%=data.title%></div><div class="tui_dialog_bar"><%=data.bar%></div></div>'+'<div class="tui_dialog_content" data-role="content"></div>'+'<% if (data.buttons.length > 0) { %><div class="tui_dialog_footer" data-role="footer">'+l+"</div><% } %>"+'<% if (data.info) { %><div class="tui_dialog_info"><%=data.info%></div><% } %>'+"</div></div></div>";var f=i.extend({events:{"click [data-role=close]":function(e){e.preventDefault();this.close()}},initialize:function(e){var n=this;var i={template:u,buttons:[],zIndex:s,hasDrag:true,hasMask:true,isFixed:true};e=$.extend(i,e||{});s=e.zIndex;var r={msie:$.browser.msie&&parseFloat($.browser.version)<9,className:e.className||"tudou_dialog",title:e.title||"",bar:e.bar||"",info:e.info||"",buttons:e.buttons};e.element=$(t.convertTpl(e.template,r,"data"));f.superClass.initialize.call(this,e);n.dom={holder:n.element.find("[data-role=holder]"),header:n.element.find("[data-role=header]"),title:n.element.find("[data-role=title]"),content:n.element.find("[data-role=content]"),footer:n.element.find("[data-role=footer]"),close:n.element.find("[data-role=close]")};n.config=e;n.open()},title:function(e){this.dom.title.html(e);return this},content:function(e){this.dom.content.html(e);return this},open:function(){var e=this;var t=e.config;var i=e.element;var l=e.dom;i.css("z-index",s);s+=2;if(t.hasMask)n.show(i.css("z-index")-1);i.css("position",o||!t.isFixed?"absolute":"fixed");if(o)e.iframeMask=$("<iframe>",{src:"about:blank",frameborder:0,css:{border:"none","z-index":-1,position:"absolute",top:0,left:0,width:"100%","background-color":"#fff"}}).prependTo(l.holder);e.content(t.content||"");$.each(t.buttons,function(t){e.events["[data-role=button_"+t+"]"]=this.callback});if(!e.element.parent()[0])e.render();e.element.show();e.locate();e.resizeLocate=function(t){e.locate()};a.bind("resize",e.resizeLocate);if(o&&t.isFixed){e.iefixScroll=function(t){e.locate()};a.bind("scroll",e.iefixScroll);e.iframeMask.css({height:l.holder.height()})}if(e.config.hasDrag)new r(i,{handler:l.header,limit:true});return e},close:function(e){var t=this;if(t.config.hasMask)n.hide(true);t.trigger("close",[t]);t.element[e?"hide":"remove"]();a.unbind("resize",t.resizeLocate);if(t.iefixScroll){a.unbind("scroll",t.iefixScroll);t.iefixScroll=null}return t},locate:function(){var e=this;var t=Math.max(0,a.width()-e.element.width()>>1);if(!e.config.isFixed)var n=a.scrollTop()+(a.height()-e.element.height())/2;else var n=Math.max(0,a.height()-e.element.height()>>1)+(o?a.scrollTop():0);e.element.css({left:t,top:n});return e}});f.confirm=function(e,t){return new f({className:"tudou_dialog alert",title:"土豆提示",content:'<div class="tui_dialog_logo"></div><div class="tui_dialog_text">'+e+"</div>",hasMask:true,buttons:[{name:"确定",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}},{name:"取消",callback:function(e){e.preventDefault();this.close()}}]})};f.alert=function(e,t){return new f({className:"tudou_dialog alert",title:"土豆提示",content:'<div class="tui_dialog_logo"></div><div class="tui_dialog_text">'+e+"</div>",hasMask:true,buttons:[{name:"确定",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}}]})};return f});define("tui/cookie",[],function(){return function(e,t,n,i){if("string"==typeof e){i=n;n=t;t=e;e=window}if(void 0!==n){i=i||{};var r,a="";if(i.expires){if(i.expires.constructor==Date)r=i.expires;else{r=new Date;r.setTime(r.getTime()+1e3*60*60*24*i.expires)}a="; expires="+r.toGMTString()}var o=i.path?"; path="+i.path:"";var s=i.domain?"; domain="+i.domain:"";var l=i.secure?"; secure":"";e.document.cookie=[t,"=",encodeURIComponent(n),a,o,s,l].join("")}else{n=e.document.cookie.match(new RegExp("(?:\\s|^)"+t+"\\=([^;]*)"));return n?decodeURIComponent(n[1]):null}}});define("g",["tui/cookie","tui/dialog"],function(e,t,n,i){i.init=function(){console.log("global init")}});require(["g"],function(){});;